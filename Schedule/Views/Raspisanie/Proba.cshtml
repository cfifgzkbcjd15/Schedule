<h2>Список пользователей</h2>
<form name="userForm">
    <input type="hidden" name="id" value="0" />
    <div class="form-group col-md-5">
        <label for="name">Имя:</label>
        <input class="form-control" name="name" />
    </div>
    <div class="form-group col-md-5">
        <label for="age">Возраст:</label>
        <input class="form-control" name="age" type="number" />
    </div>
    <div class="panel-body">
        <button type="submit" id="submit" class="btn btn-primary">Сохранить</button>
        <a id="reset" class="btn btn-primary">Сбросить</a>
    </div>
</form>
<table class="table table-condensed table-striped  col-md-6">
    <thead><tr><th>all</th></tr></thead>
    <tbody>
    </tbody>
</table>
@section Scripts
    {
<script>
    async function GetSchedulee() {
        // отправляет запрос и получаем ответ
        const response = await fetch("/api/ScheduleApi", {
            method: "GET",
            headers: { "Accept": "application/json" }
        });
       
        // если запрос прошел нормально
        if (response.ok === true) {
            // получаем данные
            const scheduleApi = await response.json();
            let rows = document.querySelector("tbody");
            scheduleApi.forEach(schedulee => {
                // добавляем полученные элементы в таблицу
                rows.append(row(schedulee));
            });
        }
    }
            //async function Edit(userId, userName, userAge) {
            //const response = await fetch("api/users", {
            //    method: "PUT",
            //    headers: { "Accept": "application/json", "Content-Type": "application/json" },
            //    body: JSON.stringify({
            //        id: parseInt(userId, 10),
            //        name: userName,
            //        age: parseInt(userAge, 10)
            //    })
            //});
            //if (response.ok === true) {
            //    const user = await response.json();
            //    reset();
            //    document.querySelector("tr[data-rowid='" + user.id + "']").replaceWith(row(user));
            //}
        //}
</script>
 } 
